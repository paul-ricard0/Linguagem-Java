package lab05.Ex01;

public class Tools {
	
	
	public static void validarSenha(String senha) 
			throws ExcepSenhaInvalida{
		
		String carak02 = "";
		String carak01 = "";
		Boolean simbolo = false;
		Boolean upper = false;
		Boolean num = false;
		char ch;
		
		
		// Validando o Tamanho
		if(senha.length() < 8 || senha.length() > 12) {
			throw new ExcepSenhaInvalida("Tamanho mínimo 8 máximo 12");
		}
		
		for (int i=0; i<senha.length(); i++) {
			ch =senha.charAt(i);
			carak01 = ""+ch;
			
			
			//Verificando se tem sequência
			if(carak01.equals(carak02)) {
				throw new ExcepSenhaInvalida("Não pode haver repetições: ex AA, cc");
			}else {
				carak02=""+senha.charAt(i);
			}
			
			//Verificando se tem espaço
			if(ch == ' ') {
				throw new ExcepSenhaInvalida("Não pode ter espaços");
			}

			//verificando se tem simbolo
			if(carak01.equals("!") || carak01.equals("@") || carak01.equals("#") 
					|| carak01.equals("?") || carak01.equals("]")  ) {
				simbolo = true;
			}
			
			//Verificando se tem maiúscula
			if(Character.isUpperCase(ch)) {
				upper = true;
			}
			
			//Verificando se tem número
			if(Character.isDigit(ch)) {
				num = true;
			}

		}
		
		if(!simbolo) {
			throw new ExcepSenhaInvalida("Mínimo um dos símbolos ! @ # ? ]");
		}
		
		if(!upper) {
			
			throw new ExcepSenhaInvalida("Mínimo uma letra maiúscula");
		}
		
		if(!num) {
			throw new ExcepSenhaInvalida("Mínimo um dígito (0-9)");
		}
		
		
	}
}

